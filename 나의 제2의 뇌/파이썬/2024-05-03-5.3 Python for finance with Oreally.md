```python
pip install quandl numpy pandas matplotlib
```

    Defaulting to user installation because normal site-packages is not writeable
    Looking in links: /usr/share/pip-wheels
    Collecting quandl
      Obtaining dependency information for quandl from https://files.pythonhosted.org/packages/c9/cd/54ab3484243431e02dabab1254ffde296c005e0d11346536e5e02ce6c828/Quandl-3.7.0-py2.py3-none-any.whl.metadata
      Downloading Quandl-3.7.0-py2.py3-none-any.whl.metadata (1.3 kB)
    Requirement already satisfied: numpy in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (1.24.3)
    Requirement already satisfied: pandas in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (2.0.3)
    Requirement already satisfied: matplotlib in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (3.7.2)
    Requirement already satisfied: requests>=2.7.0 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from quandl) (2.31.0)
    Requirement already satisfied: inflection>=0.3.1 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from quandl) (0.5.1)
    Requirement already satisfied: python-dateutil in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from quandl) (2.8.2)
    Requirement already satisfied: six in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from quandl) (1.16.0)
    Requirement already satisfied: more-itertools in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from quandl) (8.12.0)
    Requirement already satisfied: pytz>=2020.1 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from pandas) (2023.3.post1)
    Requirement already satisfied: tzdata>=2022.1 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from pandas) (2023.3)
    Requirement already satisfied: contourpy>=1.0.1 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib) (1.0.5)
    Requirement already satisfied: cycler>=0.10 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib) (0.11.0)
    Requirement already satisfied: fonttools>=4.22.0 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib) (4.25.0)
    Requirement already satisfied: kiwisolver>=1.0.1 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib) (1.4.4)
    Requirement already satisfied: packaging>=20.0 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib) (23.1)
    Requirement already satisfied: pillow>=6.2.0 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib) (9.4.0)
    Requirement already satisfied: pyparsing<3.1,>=2.3.1 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib) (3.0.9)
    Requirement already satisfied: charset-normalizer<4,>=2 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from requests>=2.7.0->quandl) (2.0.4)
    Requirement already satisfied: idna<4,>=2.5 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from requests>=2.7.0->quandl) (3.4)
    Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from requests>=2.7.0->quandl) (1.26.16)
    Requirement already satisfied: certifi>=2017.4.17 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from requests>=2.7.0->quandl) (2023.7.22)
    Downloading Quandl-3.7.0-py2.py3-none-any.whl (26 kB)
    Installing collected packages: quandl
    Successfully installed quandl-3.7.0
    Note: you may need to restart the kernel to use updated packages.



```python
import quandl

# API key

QUANDL_API_KEY='M-xoxW1XQYbdC11GoPtm'
quandl.ApiConfig.api_key = QUANDL_API_KEY
df = quandl.get('EURONEXT/ABN')
```


```python
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Last</th>
      <th>Volume</th>
      <th>Turnover</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2015-11-20</th>
      <td>18.18</td>
      <td>18.43</td>
      <td>18.000</td>
      <td>18.35</td>
      <td>38392898.0</td>
      <td>7.003281e+08</td>
    </tr>
    <tr>
      <th>2015-11-23</th>
      <td>18.45</td>
      <td>18.70</td>
      <td>18.215</td>
      <td>18.61</td>
      <td>3352514.0</td>
      <td>6.186446e+07</td>
    </tr>
    <tr>
      <th>2015-11-24</th>
      <td>18.70</td>
      <td>18.80</td>
      <td>18.370</td>
      <td>18.80</td>
      <td>4871901.0</td>
      <td>8.994087e+07</td>
    </tr>
    <tr>
      <th>2015-11-25</th>
      <td>18.85</td>
      <td>19.50</td>
      <td>18.770</td>
      <td>19.45</td>
      <td>4802607.0</td>
      <td>9.153862e+07</td>
    </tr>
    <tr>
      <th>2015-11-26</th>
      <td>19.48</td>
      <td>19.67</td>
      <td>19.410</td>
      <td>19.43</td>
      <td>1648481.0</td>
      <td>3.220713e+07</td>
    </tr>
  </tbody>
</table>
</div>




```python
df.tail()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Last</th>
      <th>Volume</th>
      <th>Turnover</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2021-05-26</th>
      <td>10.89</td>
      <td>10.890</td>
      <td>10.496</td>
      <td>10.644</td>
      <td>3447200.0</td>
      <td>36676187.0</td>
    </tr>
    <tr>
      <th>2021-05-27</th>
      <td>10.60</td>
      <td>10.980</td>
      <td>10.584</td>
      <td>10.902</td>
      <td>3498258.0</td>
      <td>38042273.0</td>
    </tr>
    <tr>
      <th>2021-05-28</th>
      <td>10.90</td>
      <td>10.998</td>
      <td>10.856</td>
      <td>10.964</td>
      <td>3001692.0</td>
      <td>32847836.0</td>
    </tr>
    <tr>
      <th>2021-05-31</th>
      <td>11.00</td>
      <td>11.030</td>
      <td>10.920</td>
      <td>10.920</td>
      <td>1426676.0</td>
      <td>15650390.0</td>
    </tr>
    <tr>
      <th>2021-06-01</th>
      <td>10.98</td>
      <td>11.220</td>
      <td>10.980</td>
      <td>11.142</td>
      <td>2689318.0</td>
      <td>29976401.0</td>
    </tr>
  </tbody>
</table>
</div>




```python
%matplotlib inline
import matplotlib.pyplot as plt

df.plot()
```




    <Axes: xlabel='Date'>




    
![png](output_4_1.png)
    



```python
prices =df['Last']
volumes =df['Volume']
```


```python
prices.head()
```




    Date
    2015-11-20    18.35
    2015-11-23    18.61
    2015-11-24    18.80
    2015-11-25    19.45
    2015-11-26    19.43
    Name: Last, dtype: float64




```python
volumes.tail()
```




    Date
    2021-05-26    3447200.0
    2021-05-27    3498258.0
    2021-05-28    3001692.0
    2021-05-31    1426676.0
    2021-06-01    2689318.0
    Name: Volume, dtype: float64




```python
 # The top plot consisting of daily closing prices
top = plt.subplot2grid((4, 4), (0, 0), rowspan=3, colspan=4)
top.plot(prices.index, prices, label='Last')
plt.title('ABN Last Price from 2015 - 2021')
plt.legend(loc=2)

  # The bottom plot consisting of daily trading volume
bottom = plt.subplot2grid((4, 4), (3,0), rowspan=1, colspan=4)
bottom.bar(volumes.index, volumes)
plt.title('ABN Daily Trading Volume')

plt.gcf().set_size_inches(12, 8)
plt.subplots_adjust(hspace=0.75)
```


    
![png](output_8_0.png)
    



```python
pip install mpl-finance
```

    Defaulting to user installation because normal site-packages is not writeable
    Looking in links: /usr/share/pip-wheels
    Collecting mpl-finance
      Obtaining dependency information for mpl-finance from https://files.pythonhosted.org/packages/9d/de/8169ea4403d6cb8322e74cc48b6834d1dfbed81931d17f1f26b2140160d8/mpl_finance-0.10.1-py3-none-any.whl.metadata
      Downloading mpl_finance-0.10.1-py3-none-any.whl.metadata (3.7 kB)
    Requirement already satisfied: matplotlib in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from mpl-finance) (3.7.2)
    Requirement already satisfied: contourpy>=1.0.1 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib->mpl-finance) (1.0.5)
    Requirement already satisfied: cycler>=0.10 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib->mpl-finance) (0.11.0)
    Requirement already satisfied: fonttools>=4.22.0 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib->mpl-finance) (4.25.0)
    Requirement already satisfied: kiwisolver>=1.0.1 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib->mpl-finance) (1.4.4)
    Requirement already satisfied: numpy>=1.20 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib->mpl-finance) (1.24.3)
    Requirement already satisfied: packaging>=20.0 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib->mpl-finance) (23.1)
    Requirement already satisfied: pillow>=6.2.0 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib->mpl-finance) (9.4.0)
    Requirement already satisfied: pyparsing<3.1,>=2.3.1 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib->mpl-finance) (3.0.9)
    Requirement already satisfied: python-dateutil>=2.7 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from matplotlib->mpl-finance) (2.8.2)
    Requirement already satisfied: six>=1.5 in /opt/conda/envs/anaconda-panel-2023.05-py310/lib/python3.11/site-packages (from python-dateutil>=2.7->matplotlib->mpl-finance) (1.16.0)
    Downloading mpl_finance-0.10.1-py3-none-any.whl (8.4 kB)
    Installing collected packages: mpl-finance
    Successfully installed mpl-finance-0.10.1
    Note: you may need to restart the kernel to use updated packages.



```python
%matplotlib inline
import quandl
from mpl_finance import candlestick_ohlc
import matplotlib.dates as mdates
import matplotlib.pyplot as plt

quandl.ApiConfig.api_key = QUANDL_API_KEY
df_subset = quandl.get('EURONEXT/ABN',
                        start_date='2018-07-01',
                        end_date='2018-07-31')

df_subset['Date'] = df_subset.index.map(mdates.date2num)
df_ohlc = df_subset[['Date','Open', 'High', 'Low', 'Last']]

figure, ax = plt.subplots(figsize = (8,4))
formatter = mdates.DateFormatter('%Y-%m-%d')
ax.xaxis.set_major_formatter(formatter)
candlestick_ohlc(ax,
                  df_ohlc.values,
                  width=0.8,
                  colorup='green',
                  colordown='red')
plt.show()
```


    
![png](output_10_0.png)
    

